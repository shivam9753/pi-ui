


<section class="bg-white">
  <div class="py-8 px-4 mx-auto max-w-screen-xl sm:py-16 lg:px-6">
    <h2 class="mb-8 text-4xl tracking-tight font-extrabold text-gray-900">Contact and Help</h2>
    <div class="mb-8 max-w-md mx-auto">
      <label for="search" class="sr-only">Search questions</label>
      <input
        type="search"
        id="search"
        placeholder="Search questions..."
        [(ngModel)]="searchQuery"
        (input)="filterQuestions()"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-colors"
        autocomplete="off"
        aria-describedby="search-desc"
        />
      <p id="search-desc" class="sr-only">Filter questions by typing keywords</p>
    </div>

    <!-- Filtered questions -->
    @if (filteredQuestions.length > 0) {
      <div class="space-y-10 max-w-3xl mx-auto">
        @for (item of filteredQuestions; track item) {
          <div class="mb-6">
            <h3 class="flex items-center mb-4 text-lg font-medium text-gray-900">
              <svg
                class="flex-shrink-0 mr-2 w-5 h-5 text-gray-500"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                >
                <path
                  fill-rule="evenodd"
                  d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z"
                  clip-rule="evenodd"
                ></path>
              </svg>
              {{ item.question }}
            </h3>
            <p class="text-gray-500">{{ item.answer }}</p>
          </div>
        }
      </div>
    }

    <!-- No results found -->
    @if (filteredQuestions.length === 0) {
      <div class="text-center text-gray-500 my-20 text-lg">
        No questions match your search.
      </div>
    }

    <!-- Not what you are looking for? -->
    <div class="mt-16 max-w-md mx-auto">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">Not what you're looking for?</h3>
      <p class="text-gray-700 mb-4">
        Please enter your question below and we'll get back to you as soon as possible.
      </p>

      <form (submit)="submitCustomQuestion($event)" class="space-y-4">
        <label for="customQuestion" class="sr-only">Your question</label>
        <textarea
          id="customQuestion"
          rows="4"
          [(ngModel)]="customQuestion"
          name="customQuestion"
          required
          placeholder="Type your question here..."
          class="w-full px-4 py-3 border border-gray-300 rounded-lg resize-none text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-colors"
        ></textarea>

        <button
          type="submit"
          [disabled]="loading || !customQuestion.trim()"
          class="w-full bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white font-semibold py-3 rounded-lg transition-colors"
          >
          {{ loading ? 'Sending...' : 'Send Question' }}
        </button>
      </form>

      @if (successMessage) {
        <p
          class="mt-3 text-green-600 font-medium text-center"
          role="alert"
          aria-live="polite"
          >
          {{ successMessage }}
        </p>
      }

      @if (errorMessage) {
        <p
          class="mt-3 text-red-600 font-medium text-center"
          role="alert"
          aria-live="polite"
          >
          {{ errorMessage }}
        </p>
      }
    </div>
  </div>
</section>