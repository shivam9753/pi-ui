/* =========================================================
   DESKTOP vs MOBILE VISIBILITY
   ========================================================= */

@media (min-width: 1024px) {
  .mobile-overlay,
  .mobile-menu,
  .mobile-hamburger-container,
  .mobile-hamburger-button,
  .mobile-buttons-container {
    display: none !important;
  }
}

/* =========================================================
   RESET & NORMALIZATION
   ========================================================= */

header a,
header button,
nav a,
nav button {
  text-decoration: none !important;
  background: transparent !important;
  border: none;
  cursor: pointer;
}

/* Remove default focus/active browser styles */
header a:focus,
header button:focus,
nav a:focus,
nav button:focus {
  outline: none;
  box-shadow: none;
}

header a:active,
header button:active,
nav a:active,
nav button:active {
  background: transparent !important;
}

/* =========================================================
   DESKTOP NAV â€” CORE TYPOGRAPHY
   ========================================================= */

/* Single source of truth for ALL nav items */
nav .nav-item {
  position: relative;
  font-weight: 500;               /* CONSTANT weight */
  color: var(--text-themed);
  transition: color 150ms ease;
  padding: 2px 0;                 /* space for underline */
}

/* Hover */
nav .nav-item:hover {
  color: var(--text-primary);
}

/* =========================================================
   ACTIVE ROUTE (DESKTOP)
   ========================================================= */

/* Applied via routerLinkActive="nav-active" */
nav .nav-item.nav-active {
  color: var(--text-primary);
}

/* Show focus/hover state with accessible indicator */
nav .nav-item,
nav button.nav-item {
  display: inline-block;
  padding-bottom: 4px; /* space for focus indicator */
}

/* Remove inset underline and use site accent color on hover/focus */
nav .nav-item:hover,
nav .nav-item:focus,
nav .nav-item:focus-visible,
nav button.nav-item:hover,
nav button.nav-item:focus,
nav button.nav-item:focus-visible {
  /* Use global accent color defined in styles.css */
  color: var(--text-accent);
  outline: none;
  box-shadow: none; /* ensure no underline */
}

/* Stronger visible ring for keyboard focus users */
nav .nav-item:focus-visible,
nav button.nav-item:focus-visible {
  outline: 2px solid var(--text-accent-hover);
  outline-offset: 3px;
  border-radius: 2px;
}

/* Keep button active color but no persistent underline */
nav button.nav-item.is-active {
  color: var(--text-primary);
}

/* =========================================================
   NAV BUTTONS (Submit behaves like links)
   ========================================================= */

nav button.nav-item {
  color: var(--text-themed);
}

/* If you manually mark Submit active */
nav button.nav-item.is-active {
  color: var(--text-primary);
}

/* =========================================================
   MOBILE OVERLAY & MENU (UNCHANGED / SAFE)
   ========================================================= */

.mobile-overlay {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  transition:
    opacity 300ms ease-in-out,
    backdrop-filter 300ms ease-in-out;
}

.mobile-menu {
  box-shadow:
    -10px 0 25px -5px rgba(0, 0, 0, 0.1),
    -10px 0 10px -5px rgba(0, 0, 0, 0.04);
}

/* Mobile menu links */
.mobile-menu nav a,
.mobile-menu nav button {
  font-weight: 500;
  color: var(--text-themed);
  transition: color 150ms ease;
}

.mobile-menu nav a:hover,
.mobile-menu nav button:hover {
  color: var(--text-primary);
}

/* Active route in mobile */
.mobile-menu nav a.router-link-active {
  color: var(--text-primary);
}

/* Divider consistency */
.mobile-menu .border-themed {
  border-color: rgb(229 231 235 / 0.3);
}
